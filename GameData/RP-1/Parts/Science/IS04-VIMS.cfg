//**********************************************************************************
//  Visible and Infrared Mapping Spectrometer (VIMS)/Ultraviolet Imaging Spectrograph (UVIS)
//
//	Based on Cassini Experiment
//	[1] https://nssdc.gsfc.nasa.gov/nmc/experimentDisplay.do?id=1997-061A-04
//	[2] https://doi.org/10.1007/s11214-004-1453-x
//	[3] https://nssdc.gsfc.nasa.gov/nmc/experiment/display.action?id=1997-061A-09
//	[4] https://doi.org/10.1007/s11214-004-1455-8
//	[5] https://doi.org/10.2514/2.3241
//
//	Part originally created by DMagic for DMagic Orbital Science
//
//**********************************************************************************
//Cassini Orbiter VIMS
//mass: 40.1 kg [5]
//power consumption: 29.2 Watts (peak) [5]
//VIMS-VIS
//Shafer telescope with 2.4 degree FoV mated to CCD operating in pushbroom scanning mode. Capable of 
//samples from 350 to 1050 nm. [2]
//64x96 CCD, with light split by prisms and diffraction gratings to measure spatial information in
//one axis and spectrum information in the other. One exposure creates a 64x1 pixel image, with each
//pixel containing 96 spectral samples, with 12? bits per pixel [2]
//Phase angle viewing limit of 0-165 degrees to avoid exposing instrument to sun [2]
//VIMS-IR
//Ritchey Cretien telescope with 1.83 degree FoV mated to 256 sensor detector array, operating in
//whisk-broom scanning mode. Capable of samples from 850 nm to 5100 nm. [2]
//Sensor array swept through 64 positions, to create 64x1 pixel image, with each pixel containing
//256 spectral samples, with 12? bits per sample [2]
//TOTAL SYSTEM
//Operating VIMS-VIS and VIMS-IR simultaneously, a 64 pixel wide swath is generated, with 352 spectral
//samples per pixel at 12 bits each, ranging from 350 nm to 5100 nm.[2]
//Image size modes of 64x64, 12x12, or 1x1, with a max speed of 0.1 seconds per exposure. [2]
//VIMS has integrated 6 MHz CPU and 2 Mbit of RAM, and compresses data before forwarding to Cassini bus, 
//with 2:1 compression typically used.
//Maximum data rate of 183 kbit/s [5]

//Cassini Orbiter UVIS
//mass: 15.6 kg [4]
//power consumption: 14.0 Watts (peak) [5], 6.5 Watts (average) [4]
//FUV Spectrometer
//Telescope with 0.45x3.44 degree FoV, mated to 64x1024 CODACON array, operating in pushbroom scanning 
//mode. Capable of sampling from 115-119 nm. [4]
//one axis and spectrum information in the other. One exposure creates a 64x1 pixel image, with each
//pixel containing 1024 spectral samples, with ??? bits per sample [4]
//EUV Spectrometer
//Telescope with 0.45x3.38 degree FoV, mated to 64x1024 CODACON array, operating in pushbroom scanning 
//mode. Capable of sampling from 56-118 nm. [4]
//one axis and spectrum information in the other. One exposure creates a 64x1 pixel image, with each
//pixel containing 1024 spectral samples, with ??? bits per sample [4]
//High Speed Photometer
//Telescope with 0.34 degree FoV mated to a high speed photometer, capable of sampling between 115-190 nm.
//50 nanosecond sampling resolution [4]
//TOTAL SYSTEM
//Cannot be pointed within 20 degrees of sun? [4]
//Maximum data rate of 31 kbit/s

//VIMS+UVIS
//mass: 55.7 kg
//power: 21.1 Watts (assuming VIMS average power is about 1/2 peak power)
//Cassini would typically dedicate 16 hours a day to remote observation platform (including VIMS and UVIS),
//and 8 hours to fields, particles and waves mode. Could not downlink during remote observation. [5]
//Cassini prime mission was 3 years. Max data rate was 166 kbit/s, but average was closer to 36 kbit/s. [5]
//Cassini could have returned about 378 Gbit of data during it's prime mission
//Remote observation platform max possible data rate of 1,349 kbit/s. Distributing total data by data rates
//gives VIMS+UVIS 16% of total data, or about 60 Gbit of data. (7500 GB)
//Seems reasonable enough, at a combined data rate of 214 kbit/s will complete in ~77.9 hours

PART
{
    name = RO-VIMS
	module = Part
	author = DMagic
	RSSROConfig = True
	
	MODEL
	{
		model = RP-1/Parts/Science/Assets/modelImaging
		scale = 1.2, 1.2, 1.2
	}
	
	node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0
	attachRules = 0,1,0,0,0

	category = Science
	subcategory = 0
	title = IS04 - Advanced Infrared Mapping Spectrometer (AIMS)
	manufacturer = DMagic
	description = The AIMS experiment is used to provide information on the vertical structure, composition, and dynamics of the atmosphere and on the emmissive properties from the surface and atmospheres of planetary bodies in the infrared wavelengths. Historically, this experiment is based on the instrument that flew on Cassini.
	mass = 0.0557
	tags = science dmagic vims infrared ir spectrometer cassini
	
	angularDrag = 1
	dragModelType = default
	maximum_drag = 0.1
	minimum_drag = 0.1
	maxTemp = 1073.15
	crashTolerance = 12
	gTolerance = 100
	maxPressure = 20000
	breakingForce = 250
	breakingTorque = 250
	PhysicsSignificance = 1
	
	TechRequired = advExploration
	entryCost = 10000
	cost = 5000
	
	//MODULE
	//{
		//name = ModuleAnimateGeneric
		//animationName = imagerOpen
		//startEventGUIName = Deploy Imager
		//endEventGUIName = Retract Imager
		//actionGUIName = Toggle Imager
        //evaDistance = 1.85
	//}
	
	MODULE
	{
		name = DMModuleScienceAnimate	

		animationName = imagerOpen
		
		experimentID = dmImagingPlatform
		
		experimentActionName = Log Imaging Data
		resetActionName = Discard Data
		
		customFailMessage = The Imaging Platform is not suitable for atmospheric use or surface deployment, try again in space.
		experimentAnimation = true
		experimentWaitForAnimation = true
		keepDeployedMode = 2
		
		animSpeed = 1
		showEndEvent = false
		showStartEvent = false
		showToggleEvent = true
		startEventGUIName = Deploy Imager
		endEventGUIName = Retract Imager
		toggleEventGUIName = Toggle Imager
		
		useStaging = False	
		useActionGroups = True
		hideUIwhenUnavailable = False
		rerunnable = True
		
		xmitDataScalar = 1.0

		dataIsCollectable = True
		collectActionName = Take Data
		interactionRange = 1.2
		externalDeploy = True
		usageReqMaskExternal = 8
		
		asteroidReports = True
		asteroidTypeDependent = True
	}
}
