CONTRACT_TYPE
{
	name = spaceStationExtensionCrew
	group = HumanHabitationContracts
	
	title = Station Crew Module
	
	description = Send up and dock a new crew module rated for @/crewCapacity astronauts to the space station to expand the maximum human capabilities. The module has to be send uncrewed for safety purpose.
	
	synopsis = Our current Earth station is starting to be a bit small. We though a new crew section will suits the needs for bigger habitable space.
	
	completedMessage = Congratulations! Now get ready to send new atronauts to test the module!

	cancellable = true 
	declinable = true		
	deadline = 180

	prestige = Significant
	
	targetBody = HomeWorld()

	maxSimultaneous = 1
	
	// reward block
	advanceFunds = 25000 * (@/crewCapacity)/4
	rewardReputation = 400.0 * (@/crewCapacity)/4
	rewardFunds = @advanceFunds
	failureReputation = @rewardReputation * 2
	failureFunds = @advanceFunds * 2
	
	DATA
	{
		type = int
		crewCapacity = Round(Random(2,8),1)
	}
	REQUIREMENT
	{
		name = HaveStation
		type = Expression
		expression = VesselIdentifier(spaceStation) != null && Vessel(spaceStation).FreeDockingPorts() >= 1
	}
	
	REQUIREMENT
	{
		name = CompleteContractFirstStation
		type = CompleteContract
		contractType = first_spaceStation
	}
	PARAMETER
	{
		name = vesselGroupCrew
		type = VesselParameterGroup
		title = Bring a new crew module to the station.
		define = crewModule
		
		PARAMETER
		{
			name = NoCrew
			type = HasCrew
			minCrew = 0
			maxCrew = 0
		}
		
		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			vessel = spaceStation
			distance = 1000
		}
		
		PARAMETER
        {
            name = HasCapacity
            type = HasCrewCapacity
			
            minCapacity = crewCapacity
            title = Space for @/crewCapacity crew
        }
		
		PARAMETER
		{
			name = Docking
			type = Docking
			title = Dock the crew module to the space station.
			vessel = spaceStation
		}
	}
}
