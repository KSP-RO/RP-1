@PART[*]:HAS[#TechRequired[lunarRatedHeatshields],#CrewCapacity[>0]]:BEFORE[zzzKerbalism]
{
	%getsLunarLanderExperiments = True
}
@PART[*]:HAS[#TechRequired[lunarLanding],#CrewCapacity[>0]]:BEFORE[zzzKerbalism]
{
	%getsLunarLanderExperiments = True
}

// ============================================================================
// Lunar Landing Television Broadcast
// ============================================================================
EXPERIMENT_DEFINITION
{
	id = RP0LunarLandingTelevisionBroadcast
	title = Lunar Landing Television Broadcast
	baseValue = 100
	scienceCap = 100
	dataScale = 36
	requireAtmosphere = False
	situationMask = 1
	biomeMask = 0
	description = To broadcast live television while landed on the moon.<b>This experiment can be completed once. NOTE: This experiment takes 2 hours and can only be completed landed on the moon.</b>
	mass = 0.01
	techRequired = lunarRangeComms
	cost = 0
	tags = lunarLanding
	minCrew = 1
	celestialBodies = Moon

	situations = LANDED
	RESULTS
	{
		default = The television broadcast from the surface of the moon was seen by millions of people back on Earth.
	}
	KERBALISM_EXPERIMENT
	{
		// sample mass in tons. if undefined or 0, the experiment produce a file
		SampleMass = 0
		// Body restrictions, multiple lines allowed (just don't use conflicting combinations).
		BodyAllowed = Moon
		IncludeExperiment = 
	}
}
@PART[*]:HAS[#getsLunarLanderExperiments[True]]:FOR[zzzKerbalism]
{
	MODULE
	{
		name = Experiment
		experiment_id = RP0LunarLandingTelevisionBroadcast
		ec_rate = 0.0175
		data_rate = 36 //40 kb/s
		@data_rate /= 7200 //2 hours
		requires = CrewMin:1
		resources =
		crew_operate = CrewOnly
		hide_when_unavailable = True
	}
}

// delete the tag
@PART[*]:HAS[#getsLunarLanderExperiments[True]]:LAST[zzzKerbalism]
{
	!getsLunarLanderExperiments = delete
}