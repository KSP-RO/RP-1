CONTRACT_TYPE
{
    name = EOS3Nimbus7
    title = Environmental Monitoring Satellite
    group = EOS3
    agent = Federation Aeronautique Internationale
    
    description = <b>Program: Modern Earth Observation<br>Type: <color=green>Optional</color></b><br><br>We have conquered weather and land mapping, but we are blind to the chemistry of our atmosphere. Scientists are concerned about ozone depletion and ocean health.<br><br>Launch a multi-instrument platform to monitor atmospheric gases and ocean pigments.<br><br><b><color="green">Make sure your craft contains a Gas Chromatograph-Mass Spectrometer and an Improved TV Camera and is placed in a high-inclination eccentric orbit.</color></b><br><br>Historical example: Nimbus-7.

    synopsis = Launch an Environmental Monitoring satellite.
    completedMessage = Success! The TOMS data is revealing worrying trends in the ozone layer over Antarctica.

    sortKey = 507
    cancellable = true
    declinable = false
    autoAccept = false
    maxCompletions = 1
    maxSimultaneous = 1
    deadline = 0

    targetBody = HomeWorld()
    
    // Rewards
    prestige = Significant
    rewardReputation = 50

    REQUIREMENT
    {
        name = ProgramActive
        type = ProgramActive
        program = EarthObservationScience3
    }

    PARAMETER
    {
        name = Nimbus7
        type = VesselParameterGroup
        title = Environmental Satellite
        define = Nimbus7

        PARAMETER
        {
            name = NewVessel
            type = NewVessel
            hideChildren = true
        }
        PARAMETER 
        {
            name = Crewmembers
            type = HasCrew
            minCrew = 0
            maxCrew = 0
            hideChildren = true
        }

        PARAMETER
        {
            name = OrbitSequence
            type = Sequence
            title = Survive in orbit for 180 days

            PARAMETER
            {
                name = HasPower
                type = HasResource
                resource = ElectricCharge
                minQuantity = 1.0
                hideChildren = true
            }
            PARAMETER
            {
                name = PartValidation
                type = PartValidation
                VALIDATE
                {
                    MODULE
                    {
                        name = Experiment
                        experimentID = RP0massSpec4
                    }
                }
                title = Carry a Gas Chromatograph-Mass Spectrometer
            }

            PARAMETER
            {
                name = PartValidation
                type = PartValidation
                VALIDATE
                {
                    MODULE
                    {
                        name = Experiment
                        experimentID = RP0visibleImaging3
                    }
                }
                title = Carry an Improved TV Camera
            }
            
            PARAMETER
            {
                name = PartValidation
                type = PartValidation
                VALIDATE
                {
                    MODULE
                    {
                        name = Experiment
                        experimentID = RP0imageSpec2
                    }
                }
                title = Carry an Extreme UV Spectrometer
            }

            PARAMETER
            {
                name = Orbit
                type = Orbit
                minApA = 900000 
                maxApA = 1000000
                minPeA = 900000
                minInclination = 98
                maxInclination = 100
                disableOnStateChange = true
                title = Reach Sun-Synchronous Orbit (900-1000 km)
            }

            PARAMETER
            {
                name = Duration
                type = Duration
                duration = 180d
                preWaitText = Check for stable orbit
                completionText = Stable orbit: Confirmed
            }
        }
    }
}