//**********************************************************************************
//  Radio and Plasma Wave Science (RPWS)
//
//	Based on Cassini RPWS
//	https://nssdc.gsfc.nasa.gov/nmc/experimentDisplay.do?id=1997-061A-07
//
//	Part originally created by DMagic for DMagic Orbital Science
//
//**********************************************************************************

PART
{
	name = RO-RPWS
	module = Part
	author = DMagic
	RSSROConfig = True

	MODEL 
	{
		model = RP-0/Parts/Science/Assets/modelRPWS
		scale = 1.1944, 1.4333, 1.2121

	}
	rescaleFactor = 1

	node_attach = 0.0, 0.0, 0.077, 0.0, 0.0, -1.0

	TechRequired = electrics
	entryCost = 10000
	cost = 4500
	category = Science
	subcategory = 0
	title = Radio and Plasma Wave Science (RPWS)
	manufacturer = DMagic
	description = The Radio and Plasma Wave Science instrument measures electrostatic and electromagnetic fields generated by the interaction of planetary magnetospheres and the interplanetary plasma medium. Historically, this experiment is based on the one flown on Cassini.
	attachRules = 0,1,0,0,0

	// --- standard part parameters ---
	mass = 0.0068
	bulkheadProfiles = srf
	crashTolerance = 10
	gTolerance = 100
	maxPressure = 20000
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 1073.15
	emissiveConstant = 0.85
	thermalMassModifier = 4.0

	tags = science dmagic rpws radio plasma wave cassini
		
	angularDrag = 1
	dragModelType = default
	maximum_drag = 0.1
	minimum_drag = 0.1

	// MODULE
	// {
		// name = ModuleAnimateGeneric
		// animationName = rpwsAnimation
		// startEventGUIName = Deploy RPWS
		// endEventGUIName = Retract RPWS
		// actionGUIName = Toggle RPWS
        // evaDistance = 1.85
	// }

	MODULE
	{
		name = DMModuleScienceAnimate	

		animationName = rpwsAnimation
		
		experimentID = rpwsScan
		
		experimentActionName = Log Radio Plasma Wave Data
		resetActionName = Discard Data
		
		customFailMessage = The RPWS Antenna is not suitable for atmospheric use or surface deployment, try again in space.
		deployingMessage = With the antennae retracted the sensors can't read anything, deploying the system now.
		experimentAnimation = true
		experimentWaitForAnimation = true
		keepDeployedMode = 2
		
		animSpeed = 1.5
		showEndEvent = false
		showStartEvent = false
		showToggleEvent = true
		startEventGUIName = Deploy RPWS
		endEventGUIName = Retract RPWS
		toggleEventGUIName = Toggle RPWS
		
		useStaging = False	
		useActionGroups = True
		hideUIwhenUnavailable = False
		rerunnable = True
		
		xmitDataScalar = 1.0

		dataIsCollectable = True
		collectActionName = Take Data
		interactionRange = 1.2
		externalDeploy = True
		usageReqMaskExternal = 8
	}
}

@PART[RO-RPWS]:NEEDS[!Kerbalism]:AFTER[RP-0]
{
	@description ^=:$: \n\nThe science can be transmitted for full recovery. Level 3 Radio-Plasma Wave Experiment can gather 100% of Radio and Plasma Wave Science.
}
