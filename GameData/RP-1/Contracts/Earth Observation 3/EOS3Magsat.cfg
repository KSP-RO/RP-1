CONTRACT_TYPE
{
    name = EOS3Magsat
    title = Crustal Magnetic Mapping
    group = EOS3
    agent = Federation Aeronautique Internationale
    
    description = <b>Program: Modern Earth Observation<br>Type: <color=green>Required</color></b><br><br>Previous magnetic satellites flew high to study the magnetosphere. We want to fly low to map the magnetic anomalies in the Earth's crust itself.<br><br><b><color="green">Make sure your craft contains a Helium Magnetometer and is placed in a high-inclination LEO orbit.</color></b><br><br>Historical example: Explorer-61A / Magsat
    synopsis = Launch a Low-Orbit Magnetic Surveyor.
    completedMessage = Success! We have a complete 3D vector map of the crustal field.

    sortKey = 508
    cancellable = true
    declinable = false
    autoAccept = false
    maxCompletions = 1
    maxSimultaneous = 1
    deadline = 0

    targetBody = HomeWorld()

    prestige = Trivial
    rewardReputation = 40

    REQUIREMENT
    {
        name = ProgramActive
        type = ProgramActive
        program = EarthObservationScience3
    }

    PARAMETER
    {
        name = Magsat
        type = VesselParameterGroup
        title = Magsat
        define = Magsat

        PARAMETER
        {
            name = NewVessel
            type = NewVessel
            hideChildren = true
        }
        PARAMETER 
        {
            name = Crewmembers
            type = HasCrew
            minCrew = 0
            maxCrew = 0
            hideChildren = true
        }

        PARAMETER
        {
            name = OrbitSequence
            type = Sequence
            title = Survive in Low Orbit for 90 days

            PARAMETER
            {
                name = HasPower
                type = HasResource
                resource = ElectricCharge
                minQuantity = 1.0
                hideChildren = true
            }

            PARAMETER
            {
                name = PartValidation
                type = PartValidation
                VALIDATE
                {
                    MODULE
                    {
                        name = Experiment
                        experimentID = RP0magScan2
                    }
                }
                title = Carry a Helium Magnetometer
            }
        
            PARAMETER
            {
                name = Orbit
                type = Orbit
                minApA = 300000 
                maxApA = 600000
                minPeA = 300000
                maxPeA = 550000
                minInclination = 96
                maxInclination = 98
                disableOnStateChange = true
                title = Reach Low Polar Orbit (300-550 km)
            }

            PARAMETER
            {
                name = Duration
                type = Duration
                duration = 90d
                preWaitText = Check for stable orbit
                completionText = Mapping complete
            }
        }
    }
}