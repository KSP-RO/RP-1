CONTRACT_TYPE
{
	name = MoonSurfaceOutpost
	title = Lunar Surface Outpost
	group = SurfaceOutposts
	agent = Outposts

	description = Design, build, launch, and land a surface outpost on the moon. Keep it crewed for a month.

	synopsis = Land a surface outpost on the surface of the Moon.

	completedMessage = Congratulations on a successful surface outpost! This will inspire future generations of Kerbonauts.

	sortKey = 1501

	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 1825  // 5 years

	targetBody = Moon



	prestige = Exceptional   // 1.5x
	advanceFunds = 200000
	rewardScience = 0
	rewardReputation = 500
	rewardFunds = 85000
	failureReputation = 750
	failureFunds = 250000

	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = first_spaceStation
		title = Complete @contractType Contract
	}
	
	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = HSFOrbitalMoonGenRepeatable
		title = Complete @contractType Contract
	}

	// ************ PARAMETERS ************

	PARAMETER
	{
		name = vesselGroupLaunch
		type = VesselParameterGroup
		title = Put a Space Station into Lunar Orbit
		notes = The station must include at least 1 Docking Port and support for at least 4 Crew
		define = spaceStationMoon
		defineList = spaceStationsMoon

		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Station
			hideChildren = true
		}
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			title = Uncrewed
			hideChildren = true
		}
		PARAMETER
		{
			name = HasCapacity
			type = HasCrewCapacity
			minCapacity = 4
			title = Space for at least 4 crew
			hideChildren = true
		}
		PARAMETER
		{
			name = DockingPort
			type = PartValidation
			partModule = ModuleDockingNode
			minCount = 1
			title = Have at least 1 Docking Ports
			hideChildren = true
		}
		PARAMETER
		{
			name = Orbit
			type = Orbit
			minPeA = 60000
			maxApA = 1000000
			targetBody = Moon
			title = Reach Orbit with a Periselene greater than 60 km and an Aposelene less than 1,000 km
			hideChildren = true
		}
		disableOnStateChange = true
	}
	PARAMETER
	{
		name = vesselGroupCrew
		type = VesselParameterGroup
		title = Bring at least 2 crew to the station
		define = crewCapsuleMoon

		completeInSequence = true

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 2
			title = Have at least 2 crewmembers on board
			hideChildren = true
		}
		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			vessel = spaceStationMoon
			distance = 1000
		}
	}
	PARAMETER
	{
		name = stayOnStation
		type = VesselParameterGroup
		title = Keep at least 2 crew aboard the station for 30 days.
		vessel = spaceStationMoon

		completeInSequence = true

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 2
			title = Have at least 2 crewmembers on board
			hideChildren = true
		}
		PARAMETER
		{
			name = Orbit
			type = Orbit
			minPeA = 60000
			maxApA = 1000000
			targetBody = Moon
			title = Remain in a Stable Orbit
			hideChildren = true
		}
		PARAMETER
		{
			name = Duration
			type = Duration
			duration =  30d
			preWaitText = Transfer to the station in the specified orbit.
			waitingText = Orbiting...
			completionText = Stay completed, you may return home now.
		}
	}
	PARAMETER
	{
		name = vesselGroupCrewReturn
		type = VesselParameterGroup
		title = Return the crew home
		vessel = crewCapsuleMoon

		completeInSequence = true

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 2
			title = Have at least 2 crewmembers on board
			hideChildren = true
		}
		PARAMETER
		{
			name = ReturnHome
			type = ReturnHome
			targetBody = HomeWorld()
			title = Return Home Safely
			hideChildren = true
			completeInSequence = true
		}
	}
	PARAMETER
	{
		name = vesselGroupStationPersist
		type = VesselParameterGroup
		title = Keep the station in orbit
		vessel = spaceStationMoon

		completeInSequence = true

		PARAMETER
		{
			name = Orbit
			type = Orbit
			minPeA = 60000
			maxApA = 1000000
			targetBody = Moon
			title = Remain in a Stable Orbit
			hideChildren = true
		}
	}
}
