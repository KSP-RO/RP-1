CONTRACT_TYPE
{
	name = repeatable_spaceStation
	title = Space Station
	group = SpaceStations
	agent = Stations
	
	description = Design, build, and launch a space station with power generation, a science lab, and science experiments into Earth orbit. Once this contract is complete, missions to crew this station will be unlocked. &br;&br;<b>Number of Contracts Completed: $repeatable_spaceStation_Count</b> 
	
	synopsis = Launch a larger space station with power generation, a science lab, and science experiments
	
	completedMessage = Congratulations! You have successfully launched another space station into orbit.
	
	sortKey = 1514
	
	cancellable = true
	declinable = false
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 0 
	maxSimultaneous = 1
	deadline = 730 * RP1DeadlineMult() // 2 Years
	
	targetBody = HomeWorld()
	
	
	prestige = Significant // 1.25x
	advanceFunds = 100000 * @RP0:globalHardContractMultiplier
	rewardScience = 0
	rewardReputation = 500
	rewardFunds = 250000 * @RP0:globalHardContractMultiplier
	failureReputation = 750
	failureFunds = @advanceFunds * 0.5
	
	// ************ REQUIREMENTS ************
	
	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = improved_spaceStation
	}
	
	REQUIREMENT
	{
		name = CompleteRepSpaceStation
		type = CompleteContract
		contractType = repeatable_spaceStation
		minCount = 0
		cooldownDuration = 730d 
	}
	
	BEHAVIOUR
	{
		name = IncrementCompletions
		type = Expression
		
		CONTRACT_COMPLETED_SUCCESS
        {
            repeatable_spaceStation_Count = $repeatable_spaceStation_Count + 1
        }
	}
	
	// ************ PARAMETERS ************
	
	PARAMETER
	{
		name = vesselGroupLaunch
		type = VesselParameterGroup
		title = Put a Space Station in Orbit
		notes = The station must include at least 1 Docking Port, have support for at least 3 Crew, a Science Lab, and can generate power.
		define = repeatableSpaceStation
		defineList = Stations
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Station
			hideChildren = true
		}
		
		PARAMETER
		{
			name = HasCapacity
			type = HasCrewCapacity
			minCapacity = 3
			title = Space for at least 3 crew
			hideChildren = true
		}
		PARAMETER
		{
			name = DockingPort
			type = PartValidation
			partModule = ModuleDockingNode
			minCount = 1
			title = Have at least 1 Docking Ports
			hideChildren = true
		}
		PARAMETER
		{
			name = HasPower
			title = Have a positive energy balance
			type = RP1FixedResourceConsumption
			resource = ElectricCharge
			minRate = -1.0
		}
		PARAMETER
		{
			name = HasScienceLab
			title = Has a Science Lab
			type = PartValidation
			hideChildren = true
			partModule = ModuleScienceLab
		}
		PARAMETER
		{
			name = Orbit
			type = Orbit
			minPeA = 400000
			maxApA = 500000
			minInclination = 50
			maxInclination = 60
			targetBody = HomeWorld()
			title = Reach Orbit with a Perigee greater than 400 km and an Apogee less than 500 km and an inclination between 50 and 60 degrees
			hideChildren = true
		}
		PARAMETER
		{
			name = CapsuleType
			type = VesselIsType
			vesselType = Station
			title = Must be a Station
			hideChildren = true
		}
		
	}
}