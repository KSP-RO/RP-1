CONTRACT_TYPE
{
	name = EarlyNavSat
	title = Operational Navigational Satellite
	group = NavSats

	description = We are ready to begin our first operational navigational network. Thanks to the data provided from our prototypes, we have determined that a high polar orbit, in which a satellite passes above or nearly above both poles of the body being orbited on each revolution, is the optimal orbit for maximum spatial and temporal coverage. We therefore must launch our satellites into an inclination of (or very close to) 90 degrees to the equator. The navigitional satellies will pass over the equator at a different longitude on each of its orbits.	<br><b>The satellite will be destroyed upon completion of the contract. This simulates transfer of the payload to project control after being placed sucessfully in orbit.</b><br>This contract may be repeated sixteen times. Currently @index have been completed.<br>Real life examples: Transit 5-series, Transit-O series, Tsiklon/Zaliv series, Tsikada series, Parus series 
	genericDescription = Put an early navigation satellite into the requested orbit.

	synopsis = Launch a navigational satellite into a polar orbit

	completedMessage = Success! We are growing the temporal coverage of our navigational network.
	
	sortKey = 501
	
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 16
	maxSimultaneous = 1
	deadline = 180	// 6 months

	targetBody = HomeWorld()	

	// ************ REWARDS ************
	prestige = Trivial
	rewardReputation = 120 + @index * 5
	advanceFunds = @rewardReputation * 200
	failureReputation = @advanceFunds * 0.0005

	DATA {
		type = float
		index = RP0EarlyNavIndex
	}	
	DATA {
		type = float
		payload = 60 + 50 * @index
	}	
	BEHAVIOUR {
		name = IncrementIndex
		type = Expression
		CONTRACT_COMPLETED_SUCCESS {
			RP0EarlyNavIndex = RP0EarlyNavIndex + 1
		}
	}	

	// ************ REQUIREMENTS ************
	REQUIREMENT	{
		name = CompleteContract
		type = CompleteContract
		contractType = ProtoNavSat
		minCount = 2
		title = Complete @contractType Contract
	}	

	// ************ PARAMETERS ************	
	PARAMETER {
		name = EarlyNavSat
		type = VesselParameterGroup
		define = EarlyNavSat
		dissassociateVesselsOnContractCompletion = true
		title = Operational Navigational Satellite
		
		PARAMETER {
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
			hideChildren = true
		}
		PARAMETER {
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			title = Uncrewed
			hideChildren = true
		}
		PARAMETER {
			name = HasNavSatPayload
			type = HasResource
			resource = NavSatPayload
			minQuantity = @/payload - 1
			title = Have a NavSatPayload of at least @/payload units on the craft
		}
		PARAMETER {
            name = OrbitSequence
            type = Sequence
            title = Survive in the target orbit for 1 month

			PARAMETER {
				name = Orbit
				type = Orbit
				title = Achieve the target orbit
				minInclination = 89.5
				maxInclination = 90.5
				maxEccentricity = 0.01
				minPeA = 1000000
				disableOnStateChange = true
						
				PARAMETER {
					name = Duration
					type = Duration

					duration = 2m

					preWaitText = Check for Stable Orbit
					waitingText = Checking for Stable Orbit
					completionText = Stable Orbit: Confirmed
				}                
			}	
			PARAMETER {
				name = HasPower
				type = HasResource
				resource = ElectricCharge
				minQuantity = 1.0
				title = Craft must have power for at least 30 days
				disableOnStateChange = false
			
				PARAMETER {
					name = Duration
					type = Duration

					duration = 30d

					preWaitText = Check for Power
					waitingText = Checking for Power
					completionText = Power: Confirmed
				}   
			}
		}
	}	
	BEHAVIOUR {
		name = TransferVessel
		type = DestroyVessel
		onState = CONTRACT_SUCCESS
		vessel = EarlyNavSat
	}
	BEHAVIOUR {
	name = VesselDestroyed
	type = DialogBox

		DIALOG_BOX {
			title = Vessel Ownership Transferred
			condition = CONTRACT_SUCCESS
			position = CENTER
			width = 0.5

			TEXT {
				text = The contract has been completed successfully. Control of the satellite has been transferred back to program operations.
			}
		}
	}
}