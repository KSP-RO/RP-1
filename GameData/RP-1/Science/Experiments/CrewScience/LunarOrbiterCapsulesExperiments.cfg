@PART[D2_module1|ROC-GeminiLCMBDB|ROC-D2MissionModule1|ok_bo_male|ok_bo_fem]:BEFORE[RP-0-Kerbalism]
{
	%capsuleTier = LunarOrbiter
	%getsSecondGenExperiments = True
	%getsLunarOrbiterExperiments = True
	%getsLunarLanderExperiments = True
}

// ============================================================================
// Space Television Broadcast
// ============================================================================
EXPERIMENT_DEFINITION
{
	id = RP0TelevisionBroadcast
	title = Space Television Broadcast
	baseValue = 80
	scienceCap = 80
	dataScale = 144 //MB
	requireAtmosphere = False
	situationMask = 32
	biomeMask = 0
	description = Broadcast live television while en route to the Moon.<b>This experiment can be completed once. NOTE: This experiment takes 2 hours and can only be completed in space high.</b>
	mass = 0.01
	techRequired = lunarRangeComms
	cost = 0
	tags = matureCapsule
	minCrew = 2
	celestialBodies = Earth;Moon

	situations = ORBITING; ESCAPING
	RESULTS
	{
		default = The television broadcast from space was seen by millions of people back on Earth.
	}
	KERBALISM_EXPERIMENT
	{
		// sample mass in tons. if undefined or 0, the experiment produce a file
		SampleMass = 0
		// Body restrictions, multiple lines allowed (just don't use conflicting combinations).
		BodyAllowed = HomeBodyAndMoons
		IncludeExperiment = 
	}
}
//For now define the data size and rate such that at least an 1.5dBi to 3.0 dBi internal S-band omnis won't work at 30 dBm. No way to prevent S-band omnis from working entirely. They achieve the same data rate as S-Band dishes 

@PART[*]:HAS[#getsLunarOrbiterExperiments[True]]:FOR[RP-0-Kerbalism]
{
	MODULE
	{
		name = Experiment
		experiment_id = RP0TelevisionBroadcast
		ec_rate = 0.0175
		data_rate = 144 //MB
		@data_rate /= 7200 //spread data over 7200 seconds, 2 hours = 20 KB/s
		requires = CrewMin:2,CommSpeedMin:0.020
		resources =
		crew_operate = CrewOnly
		hide_when_unavailable = True
	}
}

// delete the tag
@PART[*]:HAS[#capsuleTier[LunarOrbiter]]:LAST[zzzKerbalism]
{
	!capsuleTier = delete
}

// delete the tag
@PART[*]:HAS[#getsLunarOrbiterExperiments[True]]:LAST[zzzKerbalism]
{
	!getsLunarOrbiterExperiments = delete
}