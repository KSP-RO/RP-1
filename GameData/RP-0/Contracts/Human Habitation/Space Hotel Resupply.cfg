CONTRACT_TYPE
{
	name = spaceHotelResupply
	group = HumanHabitationContracts
	
	title = Resupply the Space Hotel
	
	description = Design, build, and launch a resupply vehicle to the space hotel. The resupply could be either crewed or uncrewed. //double mission is possible: tourists rotation and ressuply
	
	synopsis = We're low on snacks up there. Send us some water, food and oxygen!
	
	completedMessage = Hurrah! Now the tourist can breath normally and enjoy their journey in space!

	cancellable = true 
	declinable = true		
	deadline = 180 // 6 months

	prestige = Significant
	
	targetBody = HomeWorld()

	maxSimultaneous = 1
	
	// reward block
	advanceFunds = 30000.0
	rewardReputation = 300.0
	rewardFunds = @advanceFunds
	failureReputation = @rewardReputation
	failureFunds = @advanceFunds * 2
	
	
	REQUIREMENT
	{
		name = HaveHotelSupplyLow //less than half of the max supply in food OR water OR oxygen
		type = Expression
		expression = VesselIdentifier(spaceHotel) != null && ((Vessel(spaceHotel).ResourceQuantity(Oxygen)/Vessel(spaceHotel).ResourceCapacity(Oxygen)) < 0.5 || Vessel(spaceHotel).ResourceQuantity(Food)/Vessel(spaceHotel).ResourceCapacity(Food)) < 0.5 || Vessel(spaceHotel).ResourceQuantity(Water)/Vessel(spaceHotel).ResourceCapacity(Water)) < 0.5) 
	}
	
	PARAMETER
	{
		name = vesselGroupLaunch
		type = VesselParameterGroup
		title = Launch the resupply spacecraft and dock it with the space hotel.
		
		PARAMETER //at least one fifth of the standard 4-crew cabin storage capacity
		{
			name = HasResource
			type = HasResource
			resource = Food
			minQuantity = 140.4
		}
		PARAMETER
		{
			name = HasResource
			type = HasResource
			resource = Water
			minQuantity = 92.8
		}
		PARAMETER
		{
			name = HasResource
			type = HasResource
			resource = Oxygen
			minQuantity = 14212.77
		}
		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			vessel = spaceHotel
			distance = 1000
		}
		PARAMETER
		{
			name = Docking
			type = Docking
			title = Dock the resupply spaceship to the space hotel.
			vessel = spaceHotel
		}
	}
}
