CONTRACT_TYPE
{
	name = recordCrewedMachRecord
	group = HumanRecords

	
	title = Break Mach @mach (Crewed)
	description = Break mach @mach while in the atmosphere.
	genericTitle = Crewed Mach Speed Records
	genericDescription = We want you to set a new atmospheric speed record!
	synopsis = Fly a crewed craft to @targetSpeed m/s while in the atmosphere
	completedMessage = Congratulations! You've set a new supersonic speed record!	

	agent = Federation Aeronautique Internationale

	cancellable = false
	declinable = false
	autoAccept = true
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 8
	maxSimultaneous = 1

	targetBody = HomeWorld()

	// ************ REWARDS ************
	prestige = Trivial
	rewardReputation = 10

	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = first_FirstFlight
		title = Complete @contractType Contract
	}	

	DATA
	{
		type = List<float>
		machs = [ 1, 1.25, 1.5, 2, 2.5, 3, 4, 5 ]
	}
	
	DATA
	{
		type = float
		index = RP0CrewedRecordMachIndex
	}
	
	DATA
	{
		type = float
		mach = @machs.ElementAt(@index)
		targetSpeed = @mach * 350
	}

	BEHAVIOUR
	{
		name = IncrementIndex
		type = Expression
		CONTRACT_COMPLETED_SUCCESS
		{
				RP0CrewedRecordMachIndex = RP0CrewedRecordMachIndex + 1
		}
	}
	
	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup
		title = Break the Sound Barrier
		define = SoundBarrier
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
			hideChildren = true
		}
		PARAMETER
		{
			name = OneCrew
			type = HasCrew
			minCrew = 1
			maxCrew = 99
			title = Have at least 1 crewmember on board
			hideChildren = true
		}
		PARAMETER
		{
			name = BreakSoundBarrier
			type = ReachState
			minSpeed = @/targetSpeed
			maxAltitude = 50000
			situation = FLYING		
			title = Go faster than @minSpeed m/s
			disableOnStateChange = false
			hideChildren = true
		}
	}
}
