CONTRACT_TYPE
{
	name = FirstCrewedLunarOrbit
	title = First Crewed Lunar Orbit
	group = CrewedLunar

	tag = CrewedLunarOrbitRequired

	description = <b>Program: Crewed Lunar Exploration<br>Type: <color=green>Required</color></b><br><br>Design and launch a spacecraft with at least two crew members to orbit close to the Moon for at least 20 hours and return safely to Earth. You must also broadcast live TV during the mission, the experiment for which is unlocked in the Improved Communications technology node. Historically, Apollo 8 was the first to do this, flying to the Moon over Christmas, 1968.

	synopsis = Fly the first Crewed Lunar Orbit mission

	completedMessage = Crew alive and well after the mission--congratulations!

	sortKey = 708

	cancellable = true
	declinable = false
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 0

	targetBody = Moon


	// ************ REWARDS ************
	prestige = Trivial       // 1.0x
	advanceFunds = 0
	rewardScience = 0
	rewardFunds = 0
	failureFunds = 0
	rewardReputation = 800	// was 100
	failureReputation = 0 // was @rewardReputation	// was 100



	// ************ REQUIREMENTS ************

	REQUIREMENT
	{
		name = ProgramActive
		type = ProgramActive
		program = CrewedLunar
	}

	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup
		title = First crewed orbit of @targetBody
	
		PARAMETER
		{
			name = ReachMoonWithTwoCrew
			type = All
			title = Launch a new vessel with two crew and bring them to and back from the Moon
			disableOnStateChange = false
		
			PARAMETER
			{
				name = NewVessel
				type = NewVessel
				title = Launch a new vessel
				hideChildren = true
			}
			
			PARAMETER
			{
				name = TwoCrew
				type = HasCrew
				minCrew = 2
				crewOnly = true
				title = Have at least 2 crew on board
				hideChildren = true
			}
			
			PARAMETER
			{
				name = ReachMoon
				title = Reach the Moon
				type = ReachState
				targetBody = Moon
				hideChildren = true
				disableOnStateChange = true
			}
		}
		
		PARAMETER
		{
			name = MoonOrbit
			title = Reach orbit of the Moon with a maximum periselene of 200 km and a maximum aposelene of 500 km and hold it for at least 20 hours
			type = Orbit
			maxPeA = 200000  // relatively circular
			maxApA = 500000  // relatively circular
			targetBody = Moon
			disableOnStateChange = true
			completeInSequence = true

			PARAMETER
			{
				name = Duration
				type = Duration
				duration = 20h
				preWaitText = Reach specified orbit
				waitingText = Orbiting...
				completionText = Orbits are complete, you may return to Earth when ready
			}
		}		
		
		PARAMETER
		{
			name = liveTVBroadcastEarth
			type = RP1CollectScience
			targetBody = HomeWorld()
			situation = InSpaceHigh
			experiment = RP0TelevisionBroadcast
			fractionComplete = 1
		}
		
		PARAMETER
		{
			name = liveTVBroadcastMoon
			type = RP1CollectScience
			targetBody = Moon
			situation = InSpaceHigh
			experiment = RP0TelevisionBroadcast
			fractionComplete = 1
		}

		PARAMETER
		{
			name = ReturnHome
			type = RP1ReturnHome
			title = Return home safely
			hideChildren = true
			completeInSequence = true
		}
	}
}
